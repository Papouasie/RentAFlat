<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org" 
xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">

  <head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>Rent A Flat | Déposer une annonce</title>
    
    <!-- Google Fonts -->
    <link href='http://fonts.googleapis.com/css?family=Titillium+Web:400,200,300,700,600' rel='stylesheet' type='text/css'/>
    <link href='http://fonts.googleapis.com/css?family=Roboto+Condensed:400,700,300' rel='stylesheet' type='text/css'/>
    <link href='http://fonts.googleapis.com/css?family=Raleway:400,100' rel='stylesheet' type='text/css'/>
    
    <!-- Bootstrap -->
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css"/>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css"/>
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/owl.carousel.css"/>
    <link rel="stylesheet" href="css/style.css"/>
    <link rel="stylesheet" href="css/responsive.css"/>
    
    <!-- Latest jQuery form server -->
    <script src="https://code.jquery.com/jquery.min.js"></script>
    
    <!-- Bootstrap JS form CDN -->
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>


		<link href="css/style.css" rel="stylesheet" type="text/css"  media="all" />
		<link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css' />
		<link href="css/slider.css" rel="stylesheet" type="text/css"  media="all" />
		<link rel="stylesheet" type="text/css" href="css/lightbox.css" media="screen" />
		
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
		<script type="text/javascript">
			jQuery(document).ready(function($) {
				$(".scroll").click(function(event){		
					event.preventDefault();
					$('html,body').animate({scrollTop:$(this.hash).offset().top},1200);
				});
			});
		</script>
		
		<script type="text/javascript" src="js/jquery.lightbox.js"></script>
	    
	  	<!-- <script type="text/javascript">
	    $(function() {
	        $('.gallery-grid a').lightBox();
	    });
	    </script>-->
	    
	    <!-- DATA TABLES -->
		<link rel="stylesheet" type="text/css" href="css/jquery-ui.css" />
		<script type='text/javascript' src='js/jquery-1.11.1.min.js'></script>
		<script type='text/javascript' src='js/jquery.dataTables.min.js'></script>
		
		<style type="text/css">
			label{
				width:300px;
				float:left;
			}
			
			.woocommerce2 input{
				width:100%;
			}
			
			.woocommerce input{
				width:50%;
			}
			
			#billing_first_name_field{
				float:none;
			}
			
		</style>
		

	
  </head>
  <body>
   
    <div class="header-area">
        <div class="container">
            <div class="row">
                <div class="col-md-8">
                    <div class="user-menu">
                        <ul>
							<li class="dropdown dropdown-small" 
                        		th:switch="${#authentication}? ${#authorization.expression('isAuthenticated()')} : ${false}">
								  <span th:case="${false}">
								  		<a th:href="@{'/register'}"><i class="fa fa-user"></i> Inscription</a>
								  </span>
								  <span th:case="${true}" sec:authorize="hasAuthority('ROLE_ADMIN')">
								  <br/><i class="fa fa-user"></i> Connexion administrateur</span>
								  <span th:case="${true}" sec:authorize="hasAuthority('ROLE_USER')">
								  <br/><i class="fa fa-user"></i> Connexion utilisateur</span>
							</li>
                        </ul>
                    </div>
                </div>
                
                <div class="col-md-4">
                    <div class="header-right">
                        <ul class="list-unstyled list-inline">
                        	<li class="dropdown dropdown-small" 
                        		th:switch="${#authentication}? ${#authorization.expression('isAuthenticated()')} : ${false}">
								  <span th:case="${false}">
								  	<a th:href="@{'/login'}">
								  		<i class="fa fa-user"></i> Connexion
								  	</a>
								  </span>
								  <p th:case="${true}">
									  <form th:action="@{/logout}" method="post">
									  	<span th:inline="text" sec:authorize="isAuthenticated()">
											Bonjour [[${#httpServletRequest.remoteUser}]]! 
				                		</span>
									    <input type="hidden" th:name="${_csrf.parameterName}"
											   th:value="${_csrf.token}" />
							            <input type="submit" value="Déconnexion"/>
							          </form>
						          </p>
								  <span th:case="*">Should never happen, but who knows...</span>
							</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div> <!-- End header area -->
    
    <div class="site-branding-area">
        <div class="container">
            <div class="row">
                <div class="col-sm-6">
                    <div class="logo">
                        <h1><a href="index.html">Rent <span>A Flat</span></a></h1>
                    </div>
                </div>
                
                <div class="col-sm-6">
                    
                </div>
            </div>
        </div>
    </div> <!-- End site branding area -->
    
     <div class="mainmenu-area">
        <div class="container">
            <div class="row">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div> 
                <div class="navbar-collapse collapse">
                    <ul class="nav navbar-nav">
                        <li><a th:href="@{'/index'}">Accueil</a></li>
						<li><a th:href="@{'/apropos'}">A propos</a></li>
						<li class="active"><a th:href="@{'/proposerlog'}">Déposer une annonce</a></li>
						<li><a th:href="@{'/location'}">Nos produits à la location</a></li>
						<li><a th:href="@{'/contact'}">Contact</a></li>
						<li sec:authorize="isAuthenticated()">
							<a th:href="@{'/espacemembre'}" sec:authorize="hasAuthority('ROLE_USER')">Espace membre</a>
							<a th:href="@{'/espaceadmin'}" sec:authorize="hasAuthority('ROLE_ADMIN')">Espace admin</a>
						</li>
                    </ul>
                </div>  
            </div>
        </div>
    </div> <!-- End mainmenu area -->
    
   <div class="product-big-title-area">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <div class="product-bit-title text-center">
                        <h2>Déposer une annonce</h2>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    
    <div class="single-product-area">
        <div class="zigzag-bottom"></div>
        	<div class="container">
				<form th:object="${logements}" method="POST" class="form-horizontal" enctype="multipart/form-data">
		            <div class="row">
		                <div class="col-md-4">
		                    <div class="single-sidebar">
		                        <h2 class="sidebar-title">Vous souhaitez proposer un logement à la location ?</h2>
					    	 	<p>Rien de plus simple !
					    	 	   Merci de remplir le formulaire ci-contre : </p>
					    	 	<h2>Et après ?</h2>
						        <p>Après avoir rempli et validé votre formulaire, un mail de confirmation vous sera envoyé.
						        rent-a-flat.fr étudiera au plus vite votre demande, qui, si conforme et validée, sera affichée
						        sur notre site !</p>
		                    </div>
		                </div>
		                
		            <div class="col-md-8">
	                    <div class="product-content-right">
	                        <div class="woocommerce">
                                <div id="customer_details" class="col2-set">
                                    <div class="col-1">
                                        <div class="woocommerce-shipping-fields">
	                                            <h3>Informations géographiques</h3>
	
	                                            <p id="shipping_first_name_field" class="form-row form-row-first validate-required">
											        	<label class="" for="shipping_first_name">Titre du logement <abbr title="required" class="required">*</abbr>
											       		</label>
											        	<input type="text" value="" placeholder="Titre" id="shipping_first_name" name="shipping_first_name" class="input-text " th:field="*{l_title}" />
										    		</p>
										
												    <p id="shipping_last_name_field" class="form-row form-row-last validate-required">
												        <label class="" for="shipping_last_name">Quartier du logement <abbr title="required" class="required">*</abbr>
												        </label>
												        <input type="text" value="" placeholder="Quartier" id="shipping_last_name" name="shipping_last_name" class="input-text" th:field="*{l_quarter}" />
												    </p>
												    <div class="clear"></div>
												
												    <p id="shipping_company_field" class="form-row form-row-wide">
												        <label class="" for="shipping_company">Adresse du logement</label>
												        <input type="text" value="" placeholder="Adresse" id="shipping_company" name="shipping_company" class="input-text " th:field="*{l_adresse}" />
												    </p>
												
												    <p id="shipping_address_1_field" class="form-row form-row-wide address-field validate-required">
												        <label class="" for="shipping_address_1">Ville du logement <abbr title="required" class="required">*</abbr>
												        </label>
												        <input type="text" value="" placeholder="Ville" id="shipping_address_1" name="shipping_address_1" class="input-text " th:field="*{l_ville}" />
												    </p>
												
												    
	                                            
	                                            <div class="clear"></div>
	
	                                        </div>
	                                    </div><!-- fin sous col 1 -->
	                                    <div class="col-2">
	                                        <div class="woocommerce-shipping-fields">
	                                        <h3> </h3>
	                                    		<p id="shipping_city_field" class="form-row form-row-wide address-field validate-required" data-o_class="form-row form-row-wide address-field validate-required">
											        <label class="" for="shipping_city">Code postal du logement<abbr title="required" class="required">*</abbr>
											        </label>
											        <input type="text" value="" placeholder="Code postal" id="shipping_city" name="shipping_city" class="input-text " th:field="*{l_CP}" />
											    </p>
											
											    <p id="shipping_state_field" class="form-row form-row-first address-field validate-state" data-o_class="form-row form-row-first address-field validate-state">
											        <label class="" for="shipping_state">Région du logement</label>
											        <input type="text" id="shipping_state" name="shipping_state" placeholder="Région" value="" class="input-text " th:field="*{l_region}" />
											    </p>
											
											    <p id="shipping_state_field" class="form-row form-row-first address-field validate-state" data-o_class="form-row form-row-first address-field validate-state">
											        <label class="" for="shipping_state">Pays du logement</label>
											        <input type="text" id="shipping_state" name="shipping_state" placeholder="Pays" value="" class="input-text " th:field="*{l_pays}" />
											    </p>
	                                    	</div>
	                                    </div>
	                                    
									</div><!-- fin col2-set -->
		                        </div><!-- fin woo commerce -->
		                    </div> <!-- fin product-content-right -->
		                </div><!-- fin col-md-8 -->
		                
		            </div><!-- fin row 1 -->
	            
		            <div class="row" id="order_review" style="position: relative;">
					<h3 id="ship-to-different-address">
						<label class="checkbox" for="ship-to-different-address-checkbox">Informations du logement</label>
					</h3>
					<div class="woocommerce2">
						
					<br/><br/>
					    <p id="shipping_state_field" class="form-row form-row-first address-field validate-state" data-o_class="form-row form-row-first address-field validate-state">
					        <label class="" for="shipping_state">Type de logement</label>
					        <input type="text" id="shipping_state" name="shipping_state" placeholder="Type de logement" value="" class="input-text " th:field="*{l_type}" />
					    </p>
					
					    <p id="shipping_state_field" class="form-row form-row-first address-field validate-state" data-o_class="form-row form-row-first address-field validate-state">
					        <label class="" for="shipping_state">Disponibilité</label>
					        <input type="text" id="shipping_state" name="shipping_state" placeholder="Disponibilité" value="" class="input-text " th:field="*{l_etat}" />
					    </p>
					
					    <p id="shipping_state_field" class="form-row form-row-first address-field validate-state" data-o_class="form-row form-row-first address-field validate-state">
					        <label class="" for="shipping_state">Montant des charges (toutes charges comprises)</label>
					        <input type="text" id="shipping_state" name="shipping_state" placeholder="Charges" value="" class="input-text " th:field="*{l_charges}" />
					    </p>
					
					    <p id="shipping_state_field" class="form-row form-row-first address-field validate-state" data-o_class="form-row form-row-first address-field validate-state">
					        <label class="" for="shipping_state">Loyer mensuel</label>
					        <input type="text" id="shipping_state" name="shipping_state" placeholder="Montant du loyer" value="" class="input-text " th:field="*{l_price}" />
					    </p>
					
					    <div>
					        <span><input type="hidden"
					                           th:field="*{l_reference}"
					                           th:name="l_reference" 
					                           th:id="l_reference"/></span>
					    </div>
					
					    <p id="shipping_state_field" class="form-row form-row-first address-field validate-state" data-o_class="form-row form-row-first address-field validate-state">
					        <label class="" for="shipping_state">Descriptif</label>
					        <input type="text" id="shipping_state" name="shipping_state" placeholder="Descriptif" value="" class="input-text " th:field="*{l_description}" />
					    </p>
					
					
					    <p id="shipping_state_field" class="form-row form-row-first address-field validate-state" data-o_class="form-row form-row-first address-field validate-state">
					        <label class="" for="shipping_state">Nombre de pièces</label>
					        <input type="text" id="shipping_state" name="shipping_state" placeholder="Nombre de pièces" value="" class="input-text " th:field="*{l_pieces}" />
					    </p>
					
					
					    <p id="shipping_state_field" class="form-row form-row-first address-field validate-state" data-o_class="form-row form-row-first address-field validate-state">
					        <label class="" for="shipping_state">Ascenseur (OUI/NON)</label>
					        <input type="text" id="shipping_state" name="shipping_state" placeholder="Ascenseur" value="" class="input-text " th:field="*{l_ascence}" />
					    </p>
					
					
					    <p id="shipping_state_field" class="form-row form-row-first address-field validate-state" data-o_class="form-row form-row-first address-field validate-state">
					        <label class="" for="shipping_state">Terrasse (OUI/NON)</label>
					        <input type="text" id="shipping_state" name="shipping_state" placeholder="Terrasse" value="" class="input-text " th:field="*{l_terrasse}" />
					    </p>
					
					
					    <p id="shipping_state_field" class="form-row form-row-first address-field validate-state" data-o_class="form-row form-row-first address-field validate-state">
					        <label class="" for="shipping_state">Mandat</label>
					        <input type="text" id="shipping_state" name="shipping_state" placeholder="Mandat" value="" class="input-text" th:field="*{l_mandat}" />
					    </p>
					
					
					    <p id="shipping_state_field" class="form-row form-row-first address-field validate-state" data-o_class="form-row form-row-first address-field validate-state">
					        <label class="" for="shipping_state">Surface</label>
					        <input type="text" id="shipping_state" name="shipping_state" placeholder="Sruface" value="" class="input-text " th:field="*{l_surface}" />
					    </p>
					
					    <p id="shipping_state_field" class="form-row form-row-first address-field validate-state" data-o_class="form-row form-row-first address-field validate-state">
					        <label class="" for="shipping_state">Nombre de toilettes</label>
					        <input type="text" id="shipping_state" name="shipping_state" placeholder="Nombre de toilettes" value="" class="input-text " th:field="*{l_wc}" />
					    </p>
					
					    <p id="shipping_state_field" class="form-row form-row-first address-field validate-state" data-o_class="form-row form-row-first address-field validate-state">
					        <label class="" for="shipping_state">Nombre de salles de bain</label>
					        <input type="text" id="shipping_state" name="shipping_state" placeholder="Nombre de salle de bain" value="" class="input-text " th:field="*{l_sdb}" />
					    </p>
					
					    <p id="shipping_state_field" class="form-row form-row-first address-field validate-state" data-o_class="form-row form-row-first address-field validate-state">
					        <label class="" for="shipping_state">Année de construction :</label>
					        <input type="text" id="shipping_state" 
					        name="shipping_state" placeholder="Date de construction" 
					        value="" class="input-text " th:field="*{l_build}" />
					    </p>
					
					    <p id="shipping_state_field" class="form-row form-row-first address-field validate-state" data-o_class="form-row form-row-first address-field validate-state">
					        <label class="" for="shipping_state">Chauffage</label>
					        <input type="text" id="shipping_state" name="shipping_state" placeholder="Inclus dans les charges ?" value="" class="input-text " th:field="*{l_chauffage}" />
					    </p>
					
					    <p id="shipping_state_field" class="form-row form-row-first address-field validate-state" data-o_class="form-row form-row-first address-field validate-state">
					        <label class="" for="shipping_state">Date de parution :</label>
					        <input type="date" id="shipping_state" name="shipping_state" placeholder="Date de parution de l'annonce" value="" class="input-text " th:field="*{l_parution}" />
					    </p>
					
					    <div th:if="${message}">
					        <h2 th:text="${message}"></h2>
					    </div>
					
					    <div>
					        Image associée (uniquement jpg) : <input type="file" name="file" /><br/>
					        <!-- Nom : <input type="text" name="name" id="name" /> -->
					        <span><input type="hidden"
					                     th:value="name"
					                     th:name="name" 
					                     th:id="name"/></span>
					     </div>
					
					     
					</div>
				</div><!-- end row 2 -->
				<input type="hidden"
					           th:value="0" 
					           th:name="l_enabled" 
					           th:id="l_enabled" />
			     <input type="hidden"
			           th:value="moi" 
			           th:name="l_username" 
			           th:id="l_username" />
			           
			    <input type="hidden" th:name="${_csrf.parameterName}"
			        th:value="${_csrf.token}" />
			
			    <input type="submit" class="btn btn-default" 
			           name="adresse" id="adresse" th:value="Enregistrer"/>

                <div class="clear"></div>
			</form>
		</div>
	</div>

    
    <div class="footer-top-area">
        <div class="zigzag-bottom"></div>
        <div class="container">
            <div class="row">
                <div class="col-md-3 col-sm-6">
                    <div class="footer-about-us">
                        <h2>e<span>Rent a flat</span></h2>
                        <p>Louez facilement un logement où vous voulez.
                        	Contactez directement l'annonceur.
                        	Louer un logement n'a jamais été aussi simple
                        	</p>
                        <div class="footer-social">
                            <a href="#" target="_blank"><i class="fa fa-facebook"></i></a>
                            <a href="#" target="_blank"><i class="fa fa-twitter"></i></a>
                            <a href="#" target="_blank"><i class="fa fa-youtube"></i></a>
                            <a href="#" target="_blank"><i class="fa fa-linkedin"></i></a>
                            <a href="#" target="_blank"><i class="fa fa-pinterest"></i></a>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-3 col-sm-6">
                    <div class="footer-menu">
                        <h2 class="footer-wid-title">User Navigation </h2>
                        <ul>
							<li sec:authorize="hasAuthority('ROLE_ADMIN')"><i class="fa fa-user"></i> Connexion administrateur</li>
							<li sec:authorize="hasAuthority('ROLE_USER')"><i class="fa fa-user"></i> Connexion utilisateur</li>
							<li  sec:authorize="isAuthenticated()">
								<span th:inline="text">
									Bonjour [[${#httpServletRequest.remoteUser}]]! 
		                		</span>
		                	</li>

							<li th:switch="${#authentication}? ${#authorization.expression('isAuthenticated()')} : ${false}">
							  <span th:case="${false}"><a th:href="@{'/login'}"><i class="fa fa-user"></i> Connexion</a></span>
							  <p th:case="${true}">
								  <form th:action="@{/logout}" method="post">
								    <input type="hidden" th:name="${_csrf.parameterName}"
										   th:value="${_csrf.token}" />
						            <input type="submit" value="Déconnexion"/>
						          </form>
					          </p>
							  <span th:case="*">Should never happen, but who knows...</span>
							</li>
	
							<li><a th:href="@{'/register'}"><i class="fa fa-user"></i> Inscription</a></li>
                        </ul>                      
                    </div>
                </div>
                
                <div class="col-md-3 col-sm-6">
                    <div class="footer-menu">
                        <h2 class="footer-wid-title">Catégories</h2>
	                    <ul>
	                        <li><a th:href="@{'/index'}">Accueil</a></li>
							<li><a th:href="@{'/apropos'}">A propos</a></li>
							<li><a th:href="@{'/proposerlog'}">Déposer une annonce</a></li>
							<li><a th:href="@{'/location'}">Nos produits</a></li>
							<li><a th:href="@{'/contact'}">Contact</a></li>
	                    </ul>
                    </div>
                </div>
                
                <div class="col-md-3 col-sm-6">
                    <div class="footer-newsletter">
                        <h2 class="footer-wid-title">Newsletter</h2>
                        <p>Inscrivez-vous à notre Newsletter 
                        	pour vous tenir informé des dernières informations
                        	de <b>rent-a-flat.fr</b> directement à votre adresse e-mail !</p>
                        
                        <div th:if="${param.error}">
				        	Vous êtes déjà inscris à notre newsletter.
				        </div>
                        
                        <div class="newsletter-form">
                            <form th:action="@{/newsletter}" method="POST">
                                <input type="email" placeholder="Votre e-mail"
	                        		   th:name="email_n" 
	                        		   th:value="*{email_n}" 
	                        		   th:id="email_n" required="required" />
										
                                <input type="submit" value="Inscription"/>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div> <!-- End footer top area -->
    
    <div class="footer-bottom-area">
        <div class="container">
            <div class="row">
                <div class="col-md-8">
                    <div class="copyright">
                        <p>&copy; 2016 - Locavacances -  All Rights Reserved.</p>
                    </div>
                </div>
            </div>
        </div>
    </div> <!-- End footer bottom area -->
   

    
    <!-- jQuery sticky menu -->
    <script src="js/owl.carousel.min.js"></script>
    <script src="js/jquery.sticky.js"></script>
    
    <!-- jQuery easing -->
    <script src="js/jquery.easing.1.3.min.js"></script>
    
    <!-- Main Script -->
    <script src="js/main.js"></script>
    
  </body>
</html>